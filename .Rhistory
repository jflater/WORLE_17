phy <- readRDS("data/usda.RDS")
packrat::init()
source('http://bioconductor.org/biocLite.R')
biocLite('phyloseq')
library(phyloseq)
phy <- readRDS("data/usda.RDS")
taxa_names(phy) <- paste0('ASV_', seq_along(taxa_names(phy))) #this renames the "OTU" to ASV1....ASV1000...
sample_data(phy) <- read.delim(sep="\t", file="data/meta.txt", row.names=1, header=TRUE)
colnames(sample_data(phy)) <- c("PI", "source", "date", "concentration")
phy2 <- subset_samples(phy, PI == "Bioreactor") #this selects for the bioreactor samples only
phy2 <- subset_samples(phy2, source != "tile_drainage") #this removes this sample because it didn't have a lot of reads
phy2
colnames(sample_data(phy))
phy@sam_data$PI
sample_names(phy)
worle <- subset_samples(phy, PI == "Jared")
sample_names(worle)
#
unknown <- subset_samples(phy, PI == "unknown")
sample_names(unknown)
phy@sam_data$PI
ignore <- subset_samples(phy, PI == "Ignore")
sample_names(ignore)
phy2
sample_names(phy2)
phy@sam_data$PI
sicheng <- subset_samples(phy, PI == "Sicheng")
sample_names(sicheng)
phy@sam_data$PI
schuyler <- subset_samples(phy, PI == "Schuyler")
sample_names(schuyler)
sample_names(sicheng)
sample_names(phy2)
sample_names(phy)
sample_names(phy)
phy2 <- subset_samples(phy, PI == "Bioreactor") #this selects for the bioreactor samples only
sample_names(phy2)
phy@sam_data$PI
sample_names(phy2)
sample_names(schuyler)
sample_names(sicheng)
sample_names(worle)
sample_names(unknown)
sample_names(ignore)
phy <- readRDS("data/usda.RDS")
taxa_names(phy) <- paste0('ASV_', seq_along(taxa_names(phy))) #this renames the "OTU" to ASV1....ASV1000...
sample_data(phy) <- read.delim(sep="\t", file="data/meta.txt", row.names=1, header=TRUE)
colnames(sample_data(phy)) <- c("PI", "source", "date", "concentration")
sample_names(phy)
worle <- subset_samples(phy, PI == "Jared")
sample_names(worle)
worle_meta <- tibble(sample_data(worle))
library(tidyverse)
install.packages("tidyverse")
worle_meta <- tibble(sample_data(worle))
library(tidyverse)
worle_meta <- tibble(sample_data(worle))
View(worle_meta)
test <- data_frame(sample_data(worle))
test <- as.data.frame(sample_data(worle))
View(test)
View(worle_meta)
sample_names(worle)
worle_meta <- tibble(sample_data(worle)) %>%
rownames_to_column()
View(worle_meta)
sample_data(worle)
View(worle_meta)
row.names(sample_data(worle))
View(test)
sample_names(worle)
metadataworle <- tibble(sample_data(worle)) %>%
rowid_to_column()
View(worle_meta)
metadataworle <- tibble(sample_data(worle)) %>%
row.names(sample_names(worle))
View(worle_meta)
library(devtools)
install_github('schuyler-smith/phylosmith')
library(phylosmith)
install.packages("devtools")
install_github('schuyler-smith/phylosmith')
library(devtools)
install_github('schuyler-smith/phylosmith')
sample_names(worle)
library(phyloseq)
row.names(sample_data(worle))
worle_meta <- sample_data(worle)
View(worle_meta)
row.names(worle_meta)
rownames_to_column(worle_meta)
worle_meta <- as_tibble(rownames_to_column(sample_data(worle)))
View(worle_meta)
worle <- subset_samples(phy, PI == "Jared")
worle_meta <- as_tibble(rownames_to_column(sample_data(worle)))
View(worle_meta)
View(metadataworle)
worle_meta <- rownames_to_column(sample_data(worle))
sample_names(worle)
worle_meta <- data.frame(phyloseq::sample_data(worle))
View(worle_meta)
worle_meta <- data.frame(phyloseq::sample_data(worle)) %>%
mutate(Treatment = row.names())
worle_meta <- data.frame(phyloseq::sample_data(worle)) %>%
rownames_to_column()
View(worle_meta)
worle_meta <- data.frame(phyloseq::sample_data(worle)) %>%
rownames_to_column(var = Treatment)
worle_meta <- data.frame(phyloseq::sample_data(worle)) %>%
rownames_to_column() %>%
select(sample_id = rowname)
View(worle_meta)
write_excel_csv2(worle_meta, path = "data/worle_meta.txt")
View(worle_meta)
write_excel_csv2(worle_meta, path = "data/worle_meta.txt", col_names = T)
View(worle_meta)
sample_names(phy)
phy <- readRDS("data/usda.RDS")
phy
sample_names(phy)
phy <- readRDS("usda.RDS")
taxa_names(phy) <- paste0('ASV_', seq_along(taxa_names(phy))) #this renames the "OTU" to ASV1....ASV1000...
sample_data(phy) <- read.delim(sep="\t", file="meta.txt", row.names=1, header=TRUE)
colnames(sample_data(phy)) <- c("PI", "source", "date", "concentration")
library(c("phyloseq", "tidyverse"))
libraries <- c("phyloseq", "tidyverse")
library(libraries)
list.of.packages <- c("phyloseq", "tidyverse", "phylosmith")
new.packages <- list.of.packages[!(list.of.packages %in% installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages)
library(phyloseq)
library(tidyverse)
library(phylosmith)
phy <- readRDS("usda.RDS")
taxa_names(phy) <- paste0('ASV_', seq_along(taxa_names(phy))) #this renames the "OTU" to ASV1....ASV1000...
sample_data(phy) <- read.delim(sep="\t", file="meta.txt", row.names=1, header=TRUE)
colnames(sample_data(phy)) <- c("PI", "source", "date", "concentration")
phy <- readRDS("data/usda.RDS")
taxa_names(phy) <- paste0('ASV_', seq_along(taxa_names(phy))) #this renames the "OTU" to ASV1....ASV1000...
sample_data(phy) <- read.delim(sep="\t", file="meta.txt", row.names=1, header=TRUE)
sample_data(phy) <- read.delim(sep="\t", file="data/meta.txt", row.names=1, header=TRUE)
colnames(sample_data(phy)) <- c("PI", "source", "date", "concentration")
phy
unique(sample_names(phy))
sample_data(phy)
worle <- subset_samples(phy, PI == "Jared")
worle
write.csv(as.data.frame(sample_data(worle)), file = "data/metameta.csv")
